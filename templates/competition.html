{% extends 'layouts/base.html' %} {% load static %} {% block content %}
<div class="competition_page py-4">
  <div class="container">
    <div class="competition_main_text main_padding mb-4">
      <div class="row">
        <div class="col-12 col-lg-4">
          <h1 class="fs_70">КОНКУРС</h1>
          <p class="font-inter mb-4">
            Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do
            eiusmod tempor incididunt ut labore et ut labore et dolore magna
            aliqua. Ut enim ad minim veniam, quis Lorem ipsum dolor sit amet,
            consectetur adipiscing elit, sed do eiusmod tempor incididunt ut
            labore et dolore magna aliqua.
          </p>
        </div>
      </div>
    </div>
    <div class="all-cards row">
      {% for competition in competitions %} 
      {% cycle 'bg-waiting-color' 'bg-danger-color' as card silent %} 
      {% cycle 'btn-danger' 'btn-warning' as cardbtn silent %}
      <div class="col-12 col-md-6 col-lg-4">
        <div class="card shadow mb-3 {{ card }}">
          <img
            src="{{ competition.image.url }}"
            class="card-img-top"
            alt="..."
            width="360px"
            height="200px"
          />
          <div class="card-body">
            <h5 class="card-title">{{ competition.title }}</h5>
            <p class="card-text">
              {{ competition.description|truncatewords:15 }}
            </p>
            <a
              href="{% url 'competition:competition_detail' pk=competition.pk %}"
              class="btn {{ cardbtn }} border-0"
              >Go somewhere</a
            >
          </div>
        </div>
      </div>
      {% empty %}
      <h1>No competitions found.</h1>
      {% endfor %}
    </div>

    {% if page_obj.paginator.count > 9 %}
    <div class="d-flex justify-content-center">
      <nav aria-label="Page navigation example">
        <ul class="pagination">
        {% if page_obj.has_previous %}
          <li class="page-item active">
            <a class="page-link" href="?page={{ page_obj.previous_page_number }}" aria-label="Previous">
              <span aria-hidden="true">&laquo;</span>
            </a>
          </li>
        {% endif %}
          {% for page in page_obj.paginator.page_range %}
            <li class="page-item {% if page == page_obj.number %} active {% endif %}">
                <a class="page-link" href="?page={{ page }}">{{ page }}</a>
            </li>
          {% endfor %}
          {% if page_obj.has_next %}
          <li class="page-item active">
            <a class="page-link" href="?page={{ page_obj.next_page_number }}" aria-label="Next">
              <span aria-hidden="true">&raquo;</span>
            </a>
          </li>
          {% endif %}
        </ul>
      </nav>
    </div>
    {% endif %}

    <div class="d-flex justify-content-end">
    </div>
  </div>
</div>

{% endblock %}
